(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10de7354"],{1:function(e,t){},"223a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0BAMAAAA3VgbYAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAwUExURUxpcf/bI//cI//bI//bI//dJf/dJv//Kv/bI//bI//eMv/bI//bI//bI//bI//bIxB/tDcAAAAPdFJOUwDxstx6RC4GyR0Pll5dl7EnQpAAAAEDSURBVDjLxZTNCcJAEIUH8Qf/roKn2EHuXrSD2IHagUc78Kh2IKQBO9AOYgeWIPEHhBifiVEza3YHFMR3ScgXlpn3ZpboTyqNjKi6NCLvYiJFyx8YkAu0DcgG9nqSR6SuFvVxnuKkI2ULzTn8mQaNgV4BmGjQDkciB9csqQEtohywzqAhDguiSgeNd/L8lvyhKDppEz/r93MVOQiSl1VcDVdaddyDgtJe486VeJlDkV887CrzNXKZh+3xNGyEPF6eoQsWtoBoazxQKkMoXmhZMiqNd/du7yveWjYUIUphAB7xPsNWtUqGLfhsRIXBFtZBWiJh9aSFFdacvPCbK0W4iH6sG09FrhBDkZi1AAAAAElFTkSuQmCC"},2895:function(e,t,i){"use strict";i("daf0")},"2bb3":function(e,t,i){},"31dc":function(e,t,i){"use strict";i("a4a5")},3276:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAMAAADypuvZAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAABLUExURUxpcf/bI//fKP/cI///l//dJP/cJP/bI//bI//cI//cI//bI//eJf/cI//cI//cI//cI//dJP/cI//bI//bI//2LP/bI//dJP/bI4HuCcEAAAAYdFJOUwDlHaUBPzr887/PsC6NgFd6Rk7p2we3adFa+uwAAAHFSURBVEjH1VbZdoQgDJVFCQ6uMzr8/5e2gMhiUDunD23e4HDJJcslVVUyrauf258F8SWAFn4LUj8EDB40ALDpEje3+tueHvQ0q3Y+hdBVW3t50Mut16WMaciGaTyo2VCkKWHewh6QUxQ9Pku7Kd44pnOQw53KwTrUj72wR0LFe4sakPcYbjDhJCYTRXHgQM02qNJzFZhE0GzXxFrMcYoJedRR/gyRNcupIT2G9ehClu+kWTZ1ICM/LvhaRL5MDNvkoeZEdOChN3tEF2VnKpY6qogHkSp1xTJQcwVqMhBtYYzpYvS+YwEtPespJBDXNoo85Pf6N01urh/BznUmOvcR6PdM9ZIAENmr25BGBiayKA68A0nDQsT8Rbf3MpUQFrYWvQRwpjNjPBKROilywuNOSmxLMTcVGfRggb1gqTiCBN0LFpa0yl1t9hqxbq9iljWhUL6FD2YbVomEXdzugIEAbXcnLO9NlQ62ei2dEQlrThKOSFhFrRqWxdJq6aFvB0t+wDEDFMTcBfvkA+jLX816oKjW8lfjfQlW8+hTq5ko+wnUse+z9FhX/PhHLelpA07YSDBdjis1g3T4qG8NLR+MOf9/3vsCETw+BuNLeXwAAAAASUVORK5CYII="},"65ac":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0AgMAAAC4FvN4AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUxpcf/bI//cJv/bI41UXsEAAAADdFJOUwDjSYAlncUAAAA3SURBVCjPY2AYZGD+////v8F59UDeXzjvAxDzU5UHsu0/3MZ6KA9i438YGOWh8FBDCTUEBw0AABve5Fh4xSRSAAAAAElFTkSuQmCC"},"731a":function(e,t,i){},8090:function(e,t,i){},"824a":function(e,t,i){"use strict";i("731a")},"83f4":function(e,t,i){},"9a66":function(e,t,i){},"9cfd":function(e,t,i){e.exports=i.p+"static/img/QR-code.68ed13ee.png"},"9f5b":function(e,t,i){"use strict";i("2bb3")},a4a5:function(e,t,i){},c37c:function(e,t,i){"use strict";i("8090")},cec9:function(e,t,i){"use strict";i("83f4")},daf0:function(e,t,i){},ddf9:function(e,t,i){"use strict";i("9a66")},eb25:function(e,t,i){},ffd2:function(e,t,i){"use strict";i.r(t);var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"r6-map-internal",class:{"web-style":!e.isMobile}},[e.inApp?e._e():i("HeaderRedirect",{attrs:{"is-mobile":e.isMobile,"user-info":e.userInfo},on:{loginOut:e.loginOut}}),e.inApp?i("NavigationBar",{staticClass:"nav",attrs:{pageTitle:e.resource.meta.name,backAction:e.back,shareInfo:e.shareInfo}}):e._e(),i("div",{staticClass:"map-box",class:{"in-app":e.inApp,mobile:"isPc"!==e.clientType},on:{click:function(t){return t.target!==t.currentTarget?null:e.onMapClick()}}},[i("div",{ref:"map",staticClass:"map",on:{click:function(t){return e.onMapClick()}}},[i("el-image",{attrs:{src:e.resource.map,fit:"fill"},on:{error:function(t){e.modals.mapErrorHint=!0}}},[i("div",{staticClass:"image-slot",attrs:{slot:"placeholder"},slot:"placeholder"},[i("i",{staticClass:"el-icon-loading loading"})]),e.modals.mapErrorHint?i("div",{staticClass:"image-slot",attrs:{slot:"error"},slot:"error"},[i("div",{staticClass:"text"},[e._v("加载失败， 请重试")]),i("div",{staticClass:"reload",attrs:{onclick:"location.reload()"}},[e._v("重新加载")])]):e._e()]),i("transition",{attrs:{name:"fade"}},[e.nav.tactics&&e.resource.tacticsMask?i("img",{staticClass:"tactics-mask",attrs:{src:e.resource.tacticsMask,alt:""}}):e._e()]),e._l(e.displayRoomMarkers,(function(t){return i("div",{key:t.id,staticClass:"room-marker",style:e.style4RoomMarker(t)},[i("span",{domProps:{innerHTML:e._s(t.name)}})])})),e._l(e.displayPios,(function(t){return i("img",{key:t.id,class:{selected:e.resource.poi===t.id,poi:!0},style:e.style4Poi(t),attrs:{src:t.icon,alt:""},on:{click:function(i){return e.onPoiSelected(t,i)}}})}))],2),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.clearMode,expression:"!clearMode"}],staticClass:"modal-change"},[i("div",{staticClass:"item runs",class:{selected:e.nav.runs},on:{click:function(t){return e.switchPoi2RunMode()}}},[i("div",{staticClass:"icon"}),i("div",{staticClass:"text"},[e._v(" 跑图 ")])]),i("div",{staticClass:"item tacticks",class:{selected:e.nav.tactics,disabled:!e.resource.tacticsMask},on:{click:function(t){return e.switchTacticsMode()}}},[i("div",{staticClass:"icon"}),i("div",{staticClass:"text"},[e._v(" 战术 ")])])]),i("div",{staticClass:"float-menu"},[i("div",{staticClass:"item clear",class:{selected:e.clearMode},on:{click:function(t){e.clearMode=!e.clearMode}}})]),null==e.selectedModeMsg||e.clearMode?e._e():i("div",{staticClass:"map-nav",on:{click:function(t){return t.stopPropagation(),e.openRoomsPicker()}}},[i("div",{staticClass:"map-nav-content"},[i("i",{staticClass:"icon",style:{backgroundImage:"url("+e.selectedModeMsg.icon+")"}}),i("div",{staticClass:"name",domProps:{innerHTML:e._s(e.selectedModeMsg.name)}}),i("i",{staticClass:"right-arrow"})])]),i("PoisPicker",{directives:[{name:"show",rawName:"v-show",value:!e.clearMode,expression:"!clearMode"}],ref:"poisPicker",staticClass:"pois-pickers",attrs:{"is-mobile":e.isMobile,title:e.resource.meta.name,icons:e.poiFilterIcons},on:{"change-role":function(t){return e.toggleModal("role")},change:e.onPoiFilterChanged}}),i("FloorSwitcher",{directives:[{name:"show",rawName:"v-show",value:!e.clearMode,expression:"!clearMode"}],ref:"floorSwitcher",staticClass:"floor-switcher",attrs:{floors:e.resource.floors,highlights:e.resource.highlightFloors,"h5-mobile":e.isMobile&&!e.inApp},on:{"change-floor":e.onFloorChanged}}),i("transition",{attrs:{name:"push-right"}},[i("RoomsPicker",{directives:[{name:"show",rawName:"v-show",value:e.modals.rooms,expression:"modals.rooms"}],ref:"roomPicker",staticClass:"rooms-picker",attrs:{title:e.resource.meta.name,rooms:e.resource.rooms,floors:e.resource.floors,"is-mobile":e.isMobile},on:{"change-mode":e.onModeChanged,"change-room":e.onRoomChanged,"close-roomsPicker":e.onCloseRoomsPicker}})],1),i("transition",{attrs:{name:"push-bottom"}},[e.modals.poisPreview?i("PoiContentPreview",{ref:"poiPreview",staticClass:"poi-preview",attrs:{identifier:e.poiDetail.id,displayWidth:e.poiDetail.displayWidth,"in-app":e.inApp,"is-mobile":e.isMobile,"user-info":e.userInfo},on:{close:function(t){return e.onPoiPreviewClose()},"join-challenge":e.joinChallenge}}):e._e()],1)],1),!e.inApp&&e.isMobile?i("div",{staticClass:"bottom-box"},[i("BottomRedirect")],1):e._e(),i("Login",{directives:[{name:"show",rawName:"v-show",value:e.showWebLogin,expression:"showWebLogin"}],on:{close:function(t){return e.switchWeblogin(!1)},login:e.webLoginSuccess}}),"isPc"===e.clientType?i("div",{staticClass:"pic-module"},[i("div",{staticClass:"qrcode"}),e._m(0),e._m(1)]):e._e(),i("transition",{attrs:{name:"push"}},[e.modals.role?i("R6RolePicker",{staticClass:"role-picker",class:{"adapte-bottom-box":!e.inApp&&e.isMobile},attrs:{defaultRole:e.poiFilters.role,"is-mobile":e.isMobile,"in-app":e.inApp},on:{close:function(t){return e.toggleModal("role")},change:e.onRoleChanged}}):e._e()],1)],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"text"},[i("p",[e._v("扫码下载高能时刻APP")]),i("p",[e._v("移动端随时随地云跑图")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("a",{attrs:{href:"https://video.topgamers.cn/video_b637bcf0_100002_1615545991308.mp4",target:"_blank"}},[i("div",{staticClass:"video"},[i("div",{staticClass:"float-text"},[e._v(" 如何在APP找到地图 ")]),i("div",{staticClass:"play-icon"})])])}],n=(i("99af"),i("4de4"),i("7db0"),i("4160"),i("caad"),i("d81d"),i("13d5"),i("b0c0"),i("b64b"),i("d3b7"),i("2532"),i("159b"),i("2909")),a=i("5530"),r=i("028d"),c=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"r6-roles-picker-internal",class:{"web-style":!e.isMobile,"mobile-h5-style":e.isMobile&&!e.inApp}},[i("div",{staticClass:"nav"},[e.inApp?i("div",{staticClass:"back",on:{click:function(t){return e.onClose()}}}):e._e(),i("div",{staticClass:"title"},[e._v("选择特勤干员 查看技能点位")])]),i("section",{staticClass:"main"},[i("div",{staticClass:"left-content"},[i("section",{staticClass:"switcher"},e._l(e.roleTypes,(function(t,o){return i("div",{key:t.id,class:e.classListForItem(t,o),on:{click:function(i){return e.pickRoleType(t,o)}}},[i("i",{staticClass:"icon"}),i("span",[e._v(e._s(t.text))])])})),0),0===e.roleTypeIndex?i("div",{staticClass:"list"},e._l(e.roles.fire,(function(t,o){return i("div",{key:t.id,staticClass:"item"},[i("div",{staticClass:"content",class:o===e.roleIndex.fire?"selected":"",on:{click:function(i){return e.pickFireRole(t,o)}}},[i("img",{attrs:{src:t.skill_icon,alt:""}})])])})),0):e._e(),1===e.roleTypeIndex?i("div",{staticClass:"list"},e._l(e.roles.protect,(function(t,o){return i("div",{key:t.id,staticClass:"item"},[i("div",{staticClass:"content",class:o===e.roleIndex.protect?"selected":"",on:{click:function(i){return e.pickProtectRole(t,o)}}},[i("img",{attrs:{src:t.skill_icon,alt:""}})])])})),0):e._e(),i("div",{staticClass:"landscope-done",class:{disable:e.loading},on:{click:e.done}},[e._v(" 切换干员 ")])]),e.roles.display?i("img",{staticClass:"role-detail",attrs:{src:e.roles.display.skill_img}}):e._e(),i("div",{staticClass:"portrait-done",class:{disable:e.loading},on:{click:e.done}},[e._v(" 切换干员 ")])])])},l=[],d=(i("c740"),i("c0fe")),h=window.localStorage;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;t&&(e?h.setItem(e,t):h.removeItem(t))}function f(e){return h.getItem(e)}var p="r6:gamerole",m="r6:gamemodel",v=i("495f"),g={name:"R6RolePicker",props:{defaultRole:{type:Object,default:function(){return null}},isMobile:{type:Boolean,default:!1},inApp:{type:Boolean,default:!1}},data:function(){return{roleTypes:[{id:1,text:"进攻方",class:["item","fire"],identifier:"fire"},{id:2,text:"防守方",class:["item","protect"],identifier:"protect"}],roleTypeIndex:-1,roles:{fire:[],protect:[],default:null,display:null},roleIndex:{fire:-1,protect:-1},loading:!1}},methods:{pickRoleType:function(e,t){this.roleTypeIndex=t,this.fetchRoles(e)},pickFireRole:function(e,t){this.roleIndex.fire=t,this.roleIndex.protect=-1,this.roles.display=this.roles.fire[t]},pickProtectRole:function(e,t){this.roleIndex.fire=-1,this.roleIndex.protect=t,this.roles.display=this.roles.protect[t]},onClose:function(){this.$emit("close")},done:function(){if(this.roleIndex.fire<0&&this.roleIndex.protect<0)this.$message("请选择干员");else{var e=this.roles.display;this.reportSelectAgentEvent(e),this.notifySelectRole(e)}},reportSelectAgentEvent:function(e){this.$store.dispatch("volcengine/r6MapSelectAgent",{agent_id:e.id,agent_name:e.name})},notifySelectRole:function(e){u(p,JSON.stringify(e)),this.$emit("change",Object.assign({},e))},classListForItem:function(e,t){var i=[];return i.push(e.class),t===this.roleTypeIndex&&i.push("selected"),i},fetchRoles:function(e){var t=this,i=this.roles[e.identifier];i.length>0||(this.loading=!0,Object(d["e"])(e.id).then((function(e){t.loading=!1;var i=e.code,o=e.data,s=e.msg;200===i?(t.roles.protect=o.defense,t.roles.fire=o.offense,t.resolveSelectRole()):t.$message("".concat(s))})))},resolveSelectRole:function(){for(var e=["fire","protect"],t=[this.roles.fire,this.roles.protect],i=this.defaultRole?this.defaultRole.id:-1,o=0,s=0;s<t.length;s++){var n=t[s],a=n.findIndex((function(e){return i>0?e.id===i:e.is_default}));if(-1!==a){o=s;var r=e[s];this.roleIndex[r]=a;break}}this.roleTypeIndex=o;var c=null;this.roleIndex.fire>=0?c=this.roles.fire[this.roleIndex.fire]:this.roleIndex.protect>=0&&(c=this.roles.protect[this.roleIndex.protect]),this.roles.display=c}},created:function(){this.inApp=Object(v["d"])()},mounted:function(){this.fetchRoles(this.roleTypes[0])}},b=g,y=(i("cec9"),i("2877")),C=Object(y["a"])(b,c,l,!1,null,"3caa9e8d",null),A=C.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rooms-picker-internal",class:{"web-style":!e.isMobile}},[i("div",{staticClass:"scroll"},[i("section",{staticClass:"modes"},[i("div",{staticClass:"header"},[e._v("模式")]),i("div",{staticClass:"content"},e._l(e.mode.items,(function(t,o){return i("div",{key:t.id,staticClass:"item runs",class:[t.class,e.mode.index===o?"selected":""],on:{click:function(i){return e.modeChanged(t,o)}}},[i("div",{staticClass:"icon"}),i("div",{staticClass:"text"},[e._v(" "+e._s(t.text)+" ")])])})),0)]),e.rooms.length>0?i("section",{staticClass:"rooms"},[i("div",{staticClass:"header"},[e._v("地点")]),i("div",{staticClass:"content"},e._l(e.rooms,(function(t,o){return i("div",{key:t.id,staticClass:"item",class:e.roomIndex===o?"selected":"",on:{click:function(i){return e.roomChanged(t,o)}}},[i("i",{staticClass:"icon"}),i("div",{staticClass:"name",domProps:{innerHTML:e._s(t.name)}})])})),0)]):e._e()]),i("div",{staticClass:"action-btn",on:{click:function(t){return e.closeMethod()}}},[e._v("确定")])])},P=[],k=(i("a9e3"),{name:"RoomsPicker",props:{title:{type:String,default:""},rooms:{type:Array,default:function(){return[]}},isMobile:{type:Boolean,default:!1}},data:function(){return{roomIndex:-1,roomChangeAutoSend:!1,floorsMeta:{},mode:{items:[{id:1,text:"炸弹",class:"boom",icon:i("65ac")},{id:2,text:"人质",class:"pawn",icon:i("3276")},{id:3,text:"肃清",class:"clear",icon:i("223a")}],index:-1}}},methods:{closeMethod:function(){this.$emit("close-roomsPicker")},roomChanged:function(e,t){this.roomIndex!==t&&(this.roomIndex=t,this.$emit("change-room",Object.assign({},e)))},modeChanged:function(e,t){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.mode.index!==t&&(this.mode.index=t,u(m,e.id),this.$emit("change-mode",Object.assign({},e),i))},restoreMode:function(){var e=Number(f(m)),t=Math.max(this.mode.items.findIndex((function(t){return t.id===e})),0);this.modeChanged(this.mode.items[t],t,!1)},dispatchAutoRoomChangeEvent:function(){var e=0;e>=0&&e<this.rooms.length&&this.roomChanged(this.rooms[e],e)}},watch:{rooms:function(){this.roomIndex=-1,this.dispatchAutoRoomChangeEvent()}},computed:{selectedMode:function(){var e=this.mode.index;return e>=0&&e<this.mode.items.length?Object.assign({},this.mode.items[e]):null},selectedRoom:function(){var e=this.roomIndex;return e>=0&&e<this.rooms.length?Object.assign({},this.rooms[e]):null}},mounted:function(){this.restoreMode(),this.dispatchAutoRoomChangeEvent()}}),w=k,x=(i("31dc"),Object(y["a"])(w,M,P,!1,null,"639d14c5",null)),I=x.exports,_=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"pois-picker-internal",class:{"web-style":!e.isMobile,selected:e.showIngList}},[i("div",{staticClass:"content",class:e.showIngList?"selected":""},e._l(e.places,(function(t,o){return i("div",{key:t.id,staticClass:"item",class:{selected:t.selected,"has-role":3===t.id}},[i("div",{staticClass:"normal-content"},[i("i",{staticClass:"indicator"}),i("img",{staticClass:"dynamic-icon",attrs:{src:e.useDynamicIcon(t)},on:{click:function(i){return e.selectPlace(t,o)}}}),i("span",{class:{"has-role":3===t.id},on:{click:function(i){return e.selectPlace(t,o)}}},[e._v(e._s(t.name))])]),3===t.id?i("div",{staticClass:"role",on:{click:function(t){return e.$emit("change-role")}}}):e._e()])})),0),i("i",{staticClass:"change-show",class:e.showIngList?"selected":"",on:{click:function(t){return e.openList()}}})])},S=[],R={name:"PoisPicker",props:{title:{type:String,default:""},icons:{type:Object,default:function(){}},isMobile:{type:Boolean,default:!1}},data:function(){return{places:[],showIngList:!1,runModeSelectedBackup:null}},methods:{fetchPoiTypes:function(){var e=this;Object(d["d"])().then((function(t){var i=t.code,o=t.data,s=t.msg;200===i?(o.forEach((function(e){return e.selected=!0})),e.places=o,e.notifyChanged()):e.$message.error(s)}))},openList:function(){this.showIngList=!this.showIngList},selectPlace:function(e){this.runModeSelectedBackup=null,e.selected=!e.selected,this.notifyChanged()},iconClassForItem:function(e){var t=["icon"];return t.push(e.iconClass),t},useDynamicIcon:function(e){if(!this.icons||!this.icons[e.id])return e.icon;var t=this.icons[e.id];return t},notifyChanged:function(){this.$emit("change",this.selectedItems,this.inRunModel)},toggleRunMode:function(){var e=this;if(this.runModeSelectedBackup)this.places.forEach((function(t){t.selected=e.runModeSelectedBackup.includes(t.id)})),this.runModeSelectedBackup=null;else{var t=[];this.places.forEach((function(i){i.selected&&t.push(i.id),i.selected=!e.runModeExcludeTypes.includes(i.id)})),this.runModeSelectedBackup=t}this.notifyChanged()}},computed:{selectedItems:function(){return this.places.filter((function(e){return e.selected})).map((function(e){return e.id}))},runModeExcludeTypes:function(){return[1,3]},inRunModel:function(){var e=this;if(this.runModeExcludeTypes.length+this.selectedItems.length!==this.places.length)return!1;var t=this.selectedItems.filter((function(t){return e.runModeExcludeTypes.includes(t)}));return t.length<=0}},mounted:function(){this.fetchPoiTypes()}},O=R,E=(i("9f5b"),Object(y["a"])(O,_,S,!1,null,"72a7918b",null)),T=E.exports,j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{ref:"container",staticClass:"poi-content-preview-internal",class:{"web-style":!e.isMobile}},[i("div",{staticClass:"top"},[i("div",{staticClass:"name"},[i("div",{staticClass:"first"},[i("span",[e._v("#"+e._s(e.challenge.title))])]),i("div",{staticClass:"second"},[e._v(e._s(e.challenge.viceTitle))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.inApp,expression:"inApp"}],staticClass:"action collection",class:{done:e.challenge.isCollect},on:{click:function(t){return e.collectTopic()}}}),i("div",{directives:[{name:"show",rawName:"v-show",value:e.inApp,expression:"inApp"}],staticClass:"action share",on:{click:function(t){return e.shareTopic()}}}),i("div",{staticClass:"action close",class:{outer:!e.inApp},on:{click:function(t){return e.$emit("close")}}})]),i("div",{ref:"scrollView",staticClass:"scroll",on:{scroll:function(t){return e.onScrollViewScroll(t)}}},[e.challenge.h5_img?i("div",{staticClass:"banner section"},[i("div",{staticClass:"ration"},[i("img",{staticClass:"img",attrs:{src:e.challenge.h5_img,alt:"banner图"}})])]):e._e(),e.expendMode?i("div",{staticClass:"description section"},[i("div",{staticClass:"title"},[e._v("话题详情")]),i("div",{staticClass:"text"},[e._v(e._s(e.challenge.content))])]):e._e(),i("div",{ref:"videosView",staticClass:"videos section",on:{scroll:function(t){return e.onScrollViewHorizatalScroll(t)}}},[e._l(e.videos,(function(t,o){return i("div",{key:t.id,staticClass:"item-container"},[i("div",{staticClass:"ration-container",attrs:{id:"video-player-container-"+t.id},on:{click:function(t){return e.nativePlay(o)}}},[e.playingIndex!==o?i("div",{staticClass:"placeholder"},[i("img",{staticClass:"cover",attrs:{src:t.cover,alt:""}}),i("i",{staticClass:"play",on:{click:function(t){return e.setupPlayer(o)}}})]):e._e(),o<3?i("i",{staticClass:"rank",class:"rank-"+o}):e._e()])])})),e.isMobile?e._e():i("div",{staticClass:"pic-module"},[e._m(0)]),e.isMobile&&!e.hasMoreVideo?i("div",{directives:[{name:"show",rawName:"v-show",value:e.inApp,expression:"inApp"}],staticClass:"nomore"},[e._v(" 没有啦... ")]):e._e(),i("div",{staticClass:"potrait-placeholder"})],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:e.inApp,expression:"inApp"}],staticClass:"join",on:{click:function(t){return e.joinChallenge()}}})])},F=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"module-content"},[o("div",{staticClass:"qrcode-box"},[o("img",{attrs:{src:i("9cfd")}})]),o("div",{staticClass:"text-box"},[o("p",[e._v("扫码下载高能时刻APP")]),o("p",[e._v("查看该点位更多高能时刻")])])])}],D=i("f0e2"),L=(i("fda2"),i("eb25"),i("97af"));function B(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object(L["a"])({url:"/challenge/api/v1.0/detail/h5",params:{id:e,userId:t}})}function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"total";return Object(L["a"])({url:"/challenge/api/v1.1/video/list",params:{id:e,pageNo:t,length:i,type:o}})}function $(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return Object(L["a"])({url:"/challenge/api/v1.0/collect/h5",params:{id:e,flag:t,userId:i,sign:o}})}var U={name:"PoiContentPreview",components:{},props:{identifier:{type:Number,default:0},displayWidth:{type:Number,default:0},inApp:{type:Boolean,default:!1},isMobile:{type:Boolean,default:!1},userInfo:{type:Object,default:function(){return{}}}},data:function(){return{challenge:{title:"加载中...",viceTitle:"加载中...",content:"详细描述",cover:""},expendMode:!1,videos:[],videoPage:0,loadingVideo:!1,hasMoreVideo:!0,playingIndex:-1,memberInfo:{},scroll:{timer:null,autoCalcEnabled:!0},player:null}},methods:{getDetail:function(){var e=this;if(this.identifier){var t="";this.memberInfo.userId&&(t=this.memberInfo.userId),B(this.identifier,t).then((function(t){var i=t.code,o=t.data,s=t.msg;200===i?e.challenge=o:e.$message("".concat(s))}))}},loadMoreVideoData:function(e){var t=this;if(this.identifier&&!this.loadingVideo&&this.hasMoreVideo){var i=this.videoPage+1;this.loadingVideo=!0;var o=15;this.inApp||(o=1),N(this.identifier,i,o).then((function(o){var s;t.loadingVideo=!1;var a=o.code,r=o.data,c=o.msg;200===a?(t.videoPage=i,t.hasMoreVideo=r.length>0,t.inApp||(t.hasMoreVideo=!1),(s=t.videos).push.apply(s,Object(n["a"])(r)),e&&e()):t.$message("".concat(c))}))}},disposePlayerIfNeeds:function(){this.player&&(this.player.dispose(),this.player=null)},setupPlayer:function(e){var t=this;if(!(this.playingIndex===e||e>=this.videos.length)){this.disposePlayerIfNeeds(),this.playingIndex=e;var i=this.videos[e];this.$nextTick((function(){var o="video-player-".concat(i.id),s=document.getElementById(o);if(!s){var n=document.getElementById("video-player-container-".concat(i.id));s=document.createElement("video"),s.className="video-js vjs-custom-skin video-container",s.setAttribute("id",o),s.addEventListener("click",(function(){t.nativePlay(e)})),n.appendChild(s)}t.$nextTick((function(){var e=Object(D["a"])(s,{autoplay:!0,fluid:!1,muted:!1,playsinline:!0,"webkit-playsinline":!0,"x5-playsinline":!0,"x5-video-player-type":"h5","x5-video-player-fullscreen":!1,sources:[{src:i.video,type:"video/mp4",poster:i.cover}],controls:!1,controlBar:{remainingTimeDisplay:!1,playToggle:{},progressControl:{},fullscreenToggle:{},volumeMenuButton:{inline:!1,vertical:!0}},techOrder:["html5"]});t.player=e}))}))}},onScrollViewScroll:function(e){var t=this;if(!(document.body.clientWidth<=document.body.clientHeight)){var i=e.target,o=i.scrollHeight-i.scrollTop-i.clientHeight;o<100&&this.loadMoreVideoData(),clearTimeout(this.scroll.timer),this.scroll.autoCalcEnabled&&(this.scroll.timer=setTimeout((function(){for(var e=t.$refs.videosView,o=e.children,s=i.scrollTop-(e.offsetTop-i.offsetTop),n=0;n<o.length;n++){var a=o[n];if(a.offsetTop-e.offsetTop>=s)return void t.setupPlayer(n)}}),300))}},onScrollViewHorizatalScroll:function(e){var t=this;if(!(document.body.clientWidth>=document.body.clientHeight)){var i=e.target,o=i.scrollWidth-i.scrollLeft-i.clientWidth;console.log("distance ",o),o<100&&this.loadMoreVideoData(),clearTimeout(this.scroll.timer),this.scroll.autoCalcEnabled&&(this.scroll.timer=setTimeout((function(){for(var e=t.$refs.videosView,o=e.children,s=i.scrollLeft-(e.offsetLeft-i.offsetLeft),n=0;n<o.length;n++){var a=o[n];if(a.offsetLeft-e.offsetLeft>=s)return void t.setupPlayer(n)}}),300))}},registerNativeSupporting:function(){var e=this;Object(v["j"])("playerPlay",(function(){e.play()})),Object(v["j"])("playerPause",(function(){e.pause()})),Object(v["j"])("userUpdated",(function(){}))},userLogin:function(){var e=this;Object(v["a"])({method:"login",reload:"true"}).then((function(t){var i=JSON.parse(t);i.id&&(e.memberInfo=i)}))},collectTopic:function(){var e=this;if(this.memberInfo.id||this.userLogin(),this.memberInfo.id){var t=!this.challenge.isCollect;$(this.challenge.id,t,this.memberInfo.userId,this.memberInfo.sign).then((function(i){var o=i.code,s=i.msg;200===o?e.challenge.isCollect=t:e.$message("".concat(s))}))}else this.$message("请登录后再试")},shareTopic:function(){Object(v["a"])({method:"showShareView",type:"challenge",reload:!1,data:this.challenge})},joinChallenge:function(){this.$emit("join-challenge",this.challenge)},nativePlay:function(e){Object(v["a"])({method:"playVideo",videos:this.videos,page:this.videoPage,challenge:this.identifier,index:e})},resetPlayerContext:function(){var e=this.player;e&&e.reset(),this.playingIndex=-1,this.videos=[],this.videoPage=0,this.loadingVideo=!1,this.hasMoreVideo=!0},play:function(){var e=this.player;e&&e.play().then((function(e){}))},pause:function(){var e=this.player;e&&e.pause()},focusOnPlaying:function(){}},watch:{identifier:function(){var e=this;this.resetPlayerContext(),this.getDetail(),this.loadMoreVideoData((function(){e.setupPlayer(0)}))}},created:function(){this.inApp=Object(v["d"])()},mounted:function(){var e=this;this.userInfo.id&&(this.memberInfo=this.userInfo),this.registerNativeSupporting(),this.getDetail(),this.loadMoreVideoData((function(){setTimeout((function(){e.setupPlayer(0)}),500)}))},beforeDestroy:function(){this.player&&this.player.dispose()}},V=U,W=(i("2895"),Object(y["a"])(V,j,F,!1,null,"1b67debe",null)),H=W.exports,J=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"floor-switcher-wrapper"},[i("div",{staticClass:"floor-switcher-title"},[e._v("楼层切换")]),i("div",{staticClass:"floor-switcher-internal",class:{"mobile-h5-style":e.h5Mobile}},[e._l(e.floors,(function(t,o){return i("div",{key:t.id,staticClass:"item",class:{selected:e.floorIndex===o},on:{click:function(i){return e.floorChanged(t,o)}}},[e.highlights[t.id]?i("i",{staticClass:"icon"}):e._e(),i("span",{staticClass:"text"},[e._v(" "+e._s(t.name)+" ")])])})),i("div",{staticClass:"slot"})],2),i("SafeAreaSlot",{staticClass:"safe-area-slot"})],1)},Q=[],K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"safe-area-slot-internal"})},z=[],G={name:"SafeAreaSlot"},Y=G,q=(i("ddf9"),Object(y["a"])(Y,K,z,!1,null,"51e660fa",null)),X=q.exports,Z={name:"FloorSwitcher",props:{floors:{type:Array,default:function(){return[]}},highlights:{type:Object,default:function(){}},h5Mobile:{type:Boolean,default:!1}},components:{SafeAreaSlot:X},data:function(){return{floorIndex:0,highlightsInternal:{}}},methods:{floorChanged:function(e,t){this.floorIndex!==t&&(this.floorIndex=t,this.$emit("change-floor",Object.assign({},e)))},switchSelected:function(e){var t=this.floors.findIndex((function(t){return t.id===e}));-1!==t&&t!==this.floorIndex&&(this.floorIndex=t)}},watch:{},computed:{selectedFloor:function(){return this.floorIndex>=0&&this.floorIndex<this.floors.length?Object.assign({},this.floors[this.floorIndex]):null}}},ee=Z,te=(i("824a"),Object(y["a"])(ee,J,Q,!1,null,"3b2066ea",null)),ie=te.exports,oe=i("ea80"),se=i("fa72"),ne=i("d4ec"),ae=i("bee2"),re=function(){function e(){Object(ne["a"])(this,e),this.id=1010}return Object(ae["a"])(e,[{key:"next",value:function(){return this.id+=1,this.id}}]),e}(),ce=new re,le=ce;function de(){var e=JSON.parse(f(p));return e&&e.id}var he=i("6b34"),ue=i("907c"),fe=i("d4a1"),pe=i("1b62"),me=2;function ve(e){var t=e.icon_size||30,i=t/2,o=0,s=0;switch(e.icon_align){case"bottom_center":o=-i,s=-t;break;default:o=-i,s=-i;break}var n={x:e.axis_x/me+o,y:e.axis_y/me+s,width:t,height:t};return n}function ge(e){var t=ve(e),i={bottom_center:"bottom center"};return{position:"absolute",top:"".concat(t.y,"px"),left:"".concat(t.x,"px"),width:"".concat(t.width,"px"),height:"".concat(t.height,"px"),"transform-origin":i[e.icon_align]}}function be(e){var t=200,i=100;return{width:"".concat(t,"px"),height:"".concat(i,"px"),left:"".concat(e.axis_x/me-t/2,"px"),top:"".concat(e.axis_y/me,"px")}}var ye={frame4Poi:ve,style4Poi:ge,style4RoomMarker:be},Ce={name:"R6Map",mixins:[pe["a"]],components:{NavigationBar:r["a"],R6RolePicker:A,RoomsPicker:I,PoisPicker:T,PoiContentPreview:H,FloorSwitcher:ie,HeaderRedirect:he["a"],BottomRedirect:ue["a"],Login:fe["a"]},metaInfo:Object(se["a"])("彩虹六号"),data:function(){return{map:null,isLogin:!1,showWebLogin:!1,userInfo:{},enterTime:0,nav:{items:[{id:"rooms",text:"地图导航",class:"rooms",selected:!1},{id:"pois",text:"点位",class:"pois",selected:!1}],runs:!1,tactics:!1},modals:{role:!1,rooms:!1,pois:!1,mapErrorHint:!1,poiPreview:!1},shareInfo:{title:"彩虹六号攻略地图",subtitle:"全地图摄像头、偷人点，干员技能点视频攻略",link:this.shareLink},resource:{meta:{},map:"",tacticsMask:"",rooms:[],floors:[],highlightFloors:{},tasks:[],pois:[],poi:-1,selectPoint:{},roomMarkers:[]},poiFilters:{role:{},mode:1,room:0,floor:0,pois:[]},showShare:!1,poiDetailPan:null,poiDetail:{id:0,status:"close",startEvent:null,displayWidth:0,expended:!1},selectedModeMsg:null,clearMode:!1}},methods:{back:function(){this.reportLeavePageEvent(),this.$router.back()},shareByNative:function(){var e=Object(v["b"])(location.href,"inapp"),t={method:"showShareView",type:"link",reload:!1,data:{title:"彩虹六号攻略地图",subtitle:"全地图摄像头、偷人点，干员技能点视频攻略",link:e}};Object(v["a"])(t)},reportLeavePageEvent:function(){this.$store.dispatch("volcengine/r6MapStayTime",{map_id:this.mapId,stay_time:(new Date).getTime/1e3-this.enterTime})},reportModeSwitchEvent:function(e){this.$store.dispatch("volcengine/r6MapModeSwitch",{mode_id:e.id,mode_name:e.name,map_id:this.mapId})},onModeChanged:function(e,t,i){console.log(e,t,i),this.fetchMapMetaInfo(),this.reportModeSwitchEvent(e),i&&this.resetMap(!0)},openRoomsPicker:function(){this.toggleModal("rooms")},onCloseRoomsPicker:function(){this.toggleModal("rooms")},onRoleChanged:function(e){this.toggleModal("role"),this.poiFilters.role=e,this.updatePois()},onRoomChanged:function(e){console.log(e),this.poiFilters.room=e.id;var t=e.default_floor,i=this.resource.floors.find((function(e){return e.id===t}));this.onFloorChanged(i),this.resource.highlightFloors=e.extra_point.reduce((function(e,t){return e[t.floor_id]=!0,e}),{}),this.$refs.floorSwitcher.switchSelected(t),this.reportLocationSwitchEvent(e),this.syncTaskPoi(),this.resetMap(),this.onPoiPreviewClose(!0),this.updateSelectedMode()},reportLocationSwitchEvent:function(e){this.$store.dispatch("volcengine/r6MapLocationSwitch",{location_id:e.id,location_name:e.name,map_id:e.map_id})},updateSelectedMode:function(){var e=this.$refs.roomPicker.selectedRoom,t=this.$refs.roomPicker.selectedMode,i={};i.icon=t.icon,i.name=e.name,this.selectedModeMsg=i},onFloorChanged:function(e){this.poiFilters.floor=e.id,this.resource.map=e.map_img,this.resource.tacticsMask=e.tactics_img,this.checkIfNeedsResetTacticsMask(),this.syncTaskPoi(),this.updatePois(),this.onPoiPreviewClose()},reportFloorSwitchEvent:function(e){this.$store.dispatch("volcengine/r6MapFloorSwitch",{floor_id:e.id,floor_name:e.name,map_id:e.map_id})},share:function(){this.showShare=!0},switchWeblogin:function(e){this.showWebLogin=e},webLoginSuccess:function(e){this.userInfo=JSON.parse(e),this.isLogin=!0,this.switchWeblogin(!1)},loginOut:function(){this.isLogin=!1},onPoiFilterChanged:function(e,t){this.poiFilters.pois=e,this.onPoiPreviewClose(),this.nav.runs=t},switchPoi2RunMode:function(){this.$refs.poisPicker.toggleRunMode(),this.$store.dispatch("volcengine/r6MapRunModeSwitch",{map_id:this.mapId,run:this.$refs.poisPicker.inRunModel,floor:this.poiFilters.floor,mode:this.modeId,agent:this.poiFilters.role.name})},switchTacticsMode:function(){this.resource.tacticsMask&&(this.nav.tactics=!this.nav.tactics)},checkIfNeedsResetTacticsMask:function(){this.resource.tacticsMask||(this.nav.tactics=!1)},onMapClick:function(){this.resource.poi>0?this.onPoiPreviewClose():this.modals.rooms?(this.modals.rooms=!1,this.clearNavSelection()):this.modals.pois&&(this.modals.pois=!1,this.clearNavSelection())},onPoiSelected:function(e,t){if(t.stopPropagation(),!this.isMobile||this.inApp){this.modals.rooms=!1,this.modals.pois=!1,this.clearNavSelection();var i=e.challenge_id;if(this.resource.poi===e.id||!i)return this.modals.poisPreview=!1,this.resource.poi=-1,void(this.resource.selectPoint={});this.resource.poi=e.id,this.resource.selectPoint=e,this.poiDetail.id=i,this.focusOnPoi(e),this.modals.poisPreview=!0,this.reportPointSwitchEvent(e,"open")}else Object(v["h"])("gamecommunity",9)},reportPointSwitchEvent:function(e,t){this.$store.dispatch("volcengine/r6MapPointSwitch",{point_id:e.id,point_type:e.type,open_type:t,map_id:this.mapId})},joinChallenge:function(e){var t=this.resource.selectPoint;if(t){var i={point_id:t.id,point_type:t.type,map_id:this.mapId,challenge_id:e.id};Object(v["a"])(Object(a["a"])(Object(a["a"])({method:"joinChallenge"},e),{},{dot_event:i})),this.$store.dispatch("volcengine/r6MapJoinChallenge",i)}},onPoiPreviewClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.modals.poisPreview=!1,this.resource.poi=-1,this.resource.selectPoint={},this.poiDetail.id=-1,e&&this.resetMap(!0),this.reportPointSwitchEvent(this.resource.selectPoint,"close")},syncTaskPoi:function(){var e=this.$refs.roomPicker.selectedRoom,t=this.$refs.floorSwitcher.selectedFloor,i=e.extra_point.filter((function(e){return e.floor_id===t.id}));this.resource.tasks=i},rectOfElement:function(e){return"x: ".concat(e.offsetLeft,", y: ").concat(e.offsetTop,", width: ").concat(e.offsetWidth,", height: ").concat(e.offsetHeight)},bindMoveEvent:function(){var e=this,t=10,i=0,o=this.$refs,s=o.container,n=o.map,a={width:s.offsetWidth-2*t-i,height:s.offsetHeight-2*t},r=Math.min(a.width/n.offsetWidth,a.height/n.offsetHeight),c=0,l=0;"isPc"===this.clientType&&(c=(s.offsetWidth-n.offsetWidth+i)/2/r,l=(s.offsetHeight-n.offsetHeight)/2/r);var d=Object(oe["a"])(n,{maxScale:2,minScale:.3,startScale:r,startX:c,startY:l,handleStartEvent:function(e){e.preventDefault(),e.stopPropagation()},setTransform:function(e,t){var i=t.scale,o=t.x,s=t.y;d.setStyle("transform","scale(".concat(i,") translate(").concat(o,"px, ").concat(s,"px)"))}});n.addEventListener("wheel",d.zoomWithWheel),n.addEventListener("panzoomend",(function(){e.checkIfMapOutside()})),this.map=d},resetMap:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.map.reset({animate:e})},focusOnPoi:function(e){var t=ye.frame4Poi(e),i=this.$refs,o=i.container,s=i.map,n=this.map.getScale(),a=1.5,r=2;"isPc"!==this.clientType&&o.offsetWidth<o.offsetHeight&&(r=4);var c={x:s.offsetWidth/2,y:s.offsetHeight/r},l={x:c.x-t.x-t.width/2,y:c.y-t.y};Math.abs(n-a)>.01?(this.map.zoom(a),this.map.pan(l.x,l.y)):this.map.pan(l.x,l.y)},style4Poi:function(e){return ye.style4Poi(e)},style4RoomMarker:function(e){return ye.style4RoomMarker(e)},restoreData:function(){var e=JSON.parse(f(p));e&&(this.poiFilters.role=e)},resolveRole:function(){de()||this.fetchDefaultRole()},toggleModal:function(e){var t=this,i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e){var o=this.modals[e];null!==o&&void 0!==o&&(console.log(e,o,i),this.modals[e]=!this.modals[e],i&&this.modals[e]&&Object.keys(this.modals).filter((function(t){return t!==e})).forEach((function(e){t.modals[e]=!1})),"poiPreview"!==e&&this.modals[e]&&this.onPoiPreviewClose(),this.syncModalSelected2Nav())}},onNavItemSelected:function(e){this.toggleModal(e.id),this.syncModalSelected2Nav()},syncModalSelected2Nav:function(){var e=this;Object.keys(this.modals).forEach((function(t){var i=e.nav.items.find((function(e){return e.id===t}));i&&(i.selected=e.modals[t])}))},clearNavSelection:function(){this.nav.items.forEach((function(e){e.selected=!1}))},fetchMapMetaInfo:function(){var e=this;Object(d["b"])(this.mapId,this.modeId).then((function(t){var i=t.code,o=t.data,s=t.msg;if(200===i){var n=o.floors,a=o.locations,r=o.map;a.forEach((function(e){var t=e.extra_point;t&&t.forEach((function(e){e.id=e.id||le.next()}))})),e.resource.meta=r,e.resource.rooms=a||[],e.resource.floors=n||[]}else e.$message("".concat(s))}))},fetchDefaultRole:function(){var e=this;Object(d["a"])().then((function(t){var i=t.code,o=t.data,s=t.msg;200===i?(e.poiFilters.role=o,e.updatePois()):e.$message("".concat(s))}))},checkIfMapOutside:function(){},updatePois:function(){var e=this,t=this.poiFilters,i=t.role,o=t.floor;i.id>0&&o>0&&this.modeId>0&&Object(d["f"])(i.id,this.modeId,o).then((function(t){var i=t.code,o=t.data,s=t.msg;200===i?(e.resource.roomMarkers=o.filter((function(e){return 6===e.type})),e.resource.pois=o.filter((function(e){return 6!==e.type}))):e.$message("".concat(s))}))},closePoiDetail:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(e){var t=200;return this.poiDetailPan.pan(0,0,{animate:!0,duration:t}),new Promise((function(i){setTimeout((function(){var t=e?"close":"half";i(t)}),t)}),t)}return this.openPoiDetail(!1)},openPoiDetail:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=200;if(e){var i=this.$refs,o=i.nav,s=i.container;this.poiDetailPan.pan("".concat(o.offsetWidth-s.offsetWidth),0,{animate:!0,duration:t})}else{var n=this.$refs.poiPreview.$el;this.poiDetailPan.pan("".concat(-n.offsetLeft-170-15),0,{animate:!0,duration:t})}return new Promise((function(i){setTimeout((function(){var t=e?"open":"half";i(t)}),t)}))},appGetUserInfo:function(){var e=this;Object(v["a"])({method:"getUserInfo"}).then((function(t){e.userInfo=JSON.parse(t)||{}}))},requireLogin:function(){this.inApp?this.appGetUserInfo():this.userInfo=JSON.parse(this.$cookie.get("USERINFO"))||{}}},computed:{mapId:function(){return this.$route.params.type},modeId:function(){return this.$refs.roomPicker.selectedMode.id},isMobile:function(){return"isPc"!==this.clientType},displayPios:function(){var e=this,t=this.resource,i=t.pois,o=t.tasks,s=[];return s.push.apply(s,Object(n["a"])(o)),i.forEach((function(t){e.poiFilters.pois.includes(t.type)&&s.push(t)})),s},displayRoomMarkers:function(){return this.poiFilters.pois.includes(6)?this.resource.roomMarkers:[]},poiFilterIcons:function(){return this.poiFilters.role?{3:this.poiFilters.role.point_icon}:{}},showDimmy:function(){return this.modals.role||this.modals.rooms}},created:function(){this.requireLogin()},mounted:function(){this.bindMoveEvent(),this.restoreData(),this.resolveRole(),this.enterTime=(new Date).getTime()/1e3}},Ae=Ce,Me=(i("c37c"),Object(y["a"])(Ae,o,s,!1,null,"06518d03",null));t["default"]=Me.exports}}]);